language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
    - SAUCE_USERNAME: Desire2Learn
    - secure: t6LiRL2+mnUYSfavOsxb47j0LWpn+m6N8JGoG1MipuCE80ttmJ5IULpLT6cb9ISVWmi13zgKu/QT5NiaTEY34aFfq2CwnXI6TazAQ9GNMwIMffHJjqKf5onut8INt+W0L7NPlAkCQHP7UlsMQtalNP8kxUqXDo/hPmm/IxbXeY2B/bhsuSwZFgiVOO/Pruav3JZvoLEIBS9A+bN2cYmwRwTJTcPg+BL7HNs4Szow1UTgmtcJY9mZK5kdSapgS0f6LpsRnUHESUCnWs33gNLdIPfvnvoZxiX13E8LnLnf5Kg7jCu7dxbSFdw379RWFYxHDjgfD+ry3WFhbwZzJN9MHhXZjdXRCm9QQGmHuPM070NJdwnj+hvvjyL/soj+q8+9ntRi/0c0WUiQgi5FPvSG7cMdvR902roQtS/+PLDut6puEH/SvEGbIT2RBmafNmTJYvMAhn99beMP56mWvQb4CLs51/40SE9yvwLd1HTyEU+k9ZDi4Mpa1jyi2AClSuyQKvLDPAt4PRre0H5aG6KLIj+odCXSAdo0Tl4bou3tfE0M3ZZKTtgHoADS5RRTmNFn+FtKXx+pHIoYmMLt9hr29C4QgvoeS4MioZtPgULi/MjMx+woKPb0q46KOhxJq4dCvzlc/i11xWec4lPXVDG03nqfN8vYGtvGHn+OmEteHA0=
